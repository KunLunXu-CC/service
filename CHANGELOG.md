# Changelog

All notable changes to this project will be documented in this file. See [standard-version](https://github.com/conventional-changelog/standard-version) for commit guidelines.

## [2.2.0](https://github.com/qianyin925/blog_service/compare/v1.1.0...v2.2.0) (2020-06-12)


### Features

* 【client】【数据补全】没有 creator   updater 的数据全部设置为管理员 ([fca88ee](https://github.com/qianyin925/blog_service/commit/fca88eea4c52fc9476942f6f19c92fea7e9c0927))
* 【client】【日记】bodyIndex 统计模块开发 ([d71778c](https://github.com/qianyin925/blog_service/commit/d71778ca5518e2b69438148b42f1d7baa3569bed))
* 【client】【日记】健身记录允许多选 ([d867fe0](https://github.com/qianyin925/blog_service/commit/d867fe05022f022ccab57733c603a0e13b2f6068))
* 【client】【日记】应用布局、页面设计、实现 ([0b3a211](https://github.com/qianyin925/blog_service/commit/0b3a211991838cd8ef9dfb5a417c9a720a6e6e4e))
* 【client】【日记】引入  antv/g2 并实现历史账单模块 ([6c84c3c](https://github.com/qianyin925/blog_service/commit/6c84c3c794a6bbf294276dcf281c4195579260f0))
* 【client】编辑器优化 ([c310b46](https://github.com/qianyin925/blog_service/commit/c310b46262615626684395246d0a54a9ecf9c298))
* 【serve】revokeArticle  releaseArticle api 名字修改为复数形式 ([623d560](https://github.com/qianyin925/blog_service/commit/623d5601d8101cb7e2682aad52e506f4305ddade))
* 【serve】通用删除逻辑调整 ([9c46fa7](https://github.com/qianyin925/blog_service/commit/9c46fa72f6c76bfa34cf355f5dbfdb9197966979))
* 【serve】通用删除逻辑调整 ([614180e](https://github.com/qianyin925/blog_service/commit/614180e712394ccd17bca85aa182de78f23e57ab))
* 【serve】错误拦截 ([3bc9c59](https://github.com/qianyin925/blog_service/commit/3bc9c596b4f9789289354e10cf24319b2152b454))
* 【server】【日记】模型设计、 api 实现 ([4f8035d](https://github.com/qianyin925/blog_service/commit/4f8035d1e99a9e064509d6f9acc0f103e68a8326))
* 【server】【日记】统计逻辑修改调整 ([25338f9](https://github.com/qianyin925/blog_service/commit/25338f9b5505e81b624e2c9d5edda51f1440c7c6))
* 【server】【日记】账单添加消费类型 ([53b5e96](https://github.com/qianyin925/blog_service/commit/53b5e96ee89835947ee725452ab07e9b646d0307))
* 【server】【日记】账单添加消费类型 ([86433c8](https://github.com/qianyin925/blog_service/commit/86433c8c8409d6a607619ac3a8bd6b572a92fb97))
* 【server】【日记】账单统计, 添加总收入支出统计 ([79dd8bc](https://github.com/qianyin925/blog_service/commit/79dd8bcb304a485456dd7e686ec29ffa453e40aa))
* 【server】【日记统计接口】bodyIndex ([257162d](https://github.com/qianyin925/blog_service/commit/257162d1b652a5abf40b25abbc81116280705de8))
* 【server】【日记统计接口】统计账单 ([4f91f02](https://github.com/qianyin925/blog_service/commit/4f91f029b1cee95b68fc5962aff0752daebd1c01))
* 【server】api 权限控制， 不能谁都能够进行访问 ([21a8d2f](https://github.com/qianyin925/blog_service/commit/21a8d2f060996089acdf2a013fdd3924df6558cd))
* 【server】Article 数据库更新 ([6084dd5](https://github.com/qianyin925/blog_service/commit/6084dd552ad48cd4e47ad2e6af688bb09ceb2cb5))
* 【server】docker 控制容器启动顺序 ([1cd0ac5](https://github.com/qianyin925/blog_service/commit/1cd0ac5e2f6413d2e6eb55dbecc9bbeb2a2127ef))
* 【server】nginx 重定向配置 ([6970464](https://github.com/qianyin925/blog_service/commit/69704645dfef81067410829a19cec04bbae71f00))
* 【server】pm2 修改 ([918fcc7](https://github.com/qianyin925/blog_service/commit/918fcc73601dc98e3408f6c632b97493e5f85daa))
* 【server】qraphql 添加 修饰器 ([296440a](https://github.com/qianyin925/blog_service/commit/296440a316b6cfafb3643679d73a808ad4618d01))
* 【server】role 表字段修改 ([fe30bfb](https://github.com/qianyin925/blog_service/commit/fe30bfb36c04651fc9e90709a165bceea206b55e))
* 【server】webhook 修改 ([6c08535](https://github.com/qianyin925/blog_service/commit/6c08535b1c71fda4476d6bfe43be4bcd60470cbc))
* 【server】webhook 修改 ([45a1b2e](https://github.com/qianyin925/blog_service/commit/45a1b2e40572ab52422b1b5b621fb36d332ec2e0))
* 【server】webhook 服务重新测试编写 ([652e7aa](https://github.com/qianyin925/blog_service/commit/652e7aacc4823e19d1a13e88e7541ee195247421))
* 【server】webhook 测试 ([13da262](https://github.com/qianyin925/blog_service/commit/13da2622508b03f62d792b40e904207766aa1f0c))
* 【server】webhook 脚本修改 ([9daa14b](https://github.com/qianyin925/blog_service/commit/9daa14b0d4210befaecbce869c6f181b94b31d48))
* 【server】webhook 调整 ([2779bd7](https://github.com/qianyin925/blog_service/commit/2779bd767a14b4e7e92dbea149b5844fb360eb54))
* 【server】webhook 调整 ([40fe668](https://github.com/qianyin925/blog_service/commit/40fe6689443707854ba3738393d7bc8ef239cf50))
* 【server】webhook 调整 ([542c49d](https://github.com/qianyin925/blog_service/commit/542c49d9470ec76bf227d424e835196464976216))
* 【server】七牛云 cdn 问题处理 ([780084a](https://github.com/qianyin925/blog_service/commit/780084a2178fdc2e859e635da9a72b7987338544))
* 【server】中间件调整 ([93ffe3e](https://github.com/qianyin925/blog_service/commit/93ffe3ea44336ee52944df969bae0669bb6fa0d0))
* 【server】代理配置, 将图片请求代理到正确服务上 ([1863754](https://github.com/qianyin925/blog_service/commit/18637540f07585e913ddf99fa6749829be02a522))
* 【server】假删数据清除脚本 ([c33f4a6](https://github.com/qianyin925/blog_service/commit/c33f4a64ef7aef7994991933bdc09b56e81494d2))
* 【server】删除数据库 Photo.url 字段 ([55e7a84](https://github.com/qianyin925/blog_service/commit/55e7a848bcc1f6328d437889b2bcd81c6d0ede40))
* 【server】删除结余字段 ([e16e00d](https://github.com/qianyin925/blog_service/commit/e16e00d141fd6fb48e3d95e901f5a9ae7651a365))
* 【server】发送邮件脚本调整, 现有脚本在服务器上不支持 ([749e02a](https://github.com/qianyin925/blog_service/commit/749e02af4a9b553dc9db018661fe8d1ce4585af2))
* 【server】在删除图片时不修改 name 值 ([05dd2f7](https://github.com/qianyin925/blog_service/commit/05dd2f762e92a85c6ac559ceaa2c571c0dddac65))
* 【server】定时任务 - 备份数据 创建出来的文件名显示时间和定时任务设定的时间不对 ([750e0cf](https://github.com/qianyin925/blog_service/commit/750e0cf3f0462da929b59903d1e6b23036a2fc5b))
* 【server】定时任务不行了 ([ca63ed1](https://github.com/qianyin925/blog_service/commit/ca63ed179e1b2d79b62891f69e60b01dadfb1abb))
* 【server】定时任务模块分离 ([a20eeb8](https://github.com/qianyin925/blog_service/commit/a20eeb86bfe2c075d3224cc4e3e215f8d2266fef))
* 【server】定时备份脚本 ([634db87](https://github.com/qianyin925/blog_service/commit/634db87feb12b37f1bc22ff4333db90191ac276d))
* 【server】开启 HTTPS ([e060549](https://github.com/qianyin925/blog_service/commit/e060549c499d6eae62b08acd055c4b8c24e0316f))
* 【server】开启 HTTPS ([2d6108e](https://github.com/qianyin925/blog_service/commit/2d6108ec5e5f049537c5b52fc4fbd74c3f2b8b29))
* 【server】开启 HTTPS ([7be1f9a](https://github.com/qianyin925/blog_service/commit/7be1f9a317c97f03db6f8650e3bf4c2404a8e079))
* 【server】微信公众号服务器配置 ([1b34c2a](https://github.com/qianyin925/blog_service/commit/1b34c2a607ea64498c7142f255a233a5342e6c24))
* 【server】数字字典模型名称修改 ([f7d6694](https://github.com/qianyin925/blog_service/commit/f7d66942961cb8d052a76a0277d7c042ffd429fc))
* 【server】数字字典模型名称修改 ([c938759](https://github.com/qianyin925/blog_service/commit/c938759d3bcfbfe46438db5d32fc650a4097bea3))
* 【server】数据字典模型添加 ([5166b2c](https://github.com/qianyin925/blog_service/commit/5166b2c6f06cd6e7ce33ed4779d4ecb21674df96))
* 【server】数据字典模型添加、graphql api 编写 ([6345c9c](https://github.com/qianyin925/blog_service/commit/6345c9ce078f9c770037c40580824d39156c3076))
* 【server】文件上传逻辑修改，将图片存储于静态资源目录下 ([5845338](https://github.com/qianyin925/blog_service/commit/584533850a95b71d7dbade2078927bd3e5916c1c))
* 【server】查询所有具有文章的 tag ([09d4538](https://github.com/qianyin925/blog_service/commit/09d4538046643d8f9a820d3db0772b5ae8f9a43e))
* 【server】添加 http api 调试目录, 并调试 pm2 配置 ([675d0f5](https://github.com/qianyin925/blog_service/commit/675d0f521c58daa8a3298df0eeb88b5c59bc9137))
* 【server】添加获取公钥 api ([a083854](https://github.com/qianyin925/blog_service/commit/a0838548384a1827c9aaff077399d450558118dc))
* 【server】添加获取公钥 api ([6da4bc2](https://github.com/qianyin925/blog_service/commit/6da4bc216849b25695ce56b011cdfa52d1b0d236))
* 【server】脚本系统架构调整 ([ff07bcf](https://github.com/qianyin925/blog_service/commit/ff07bcf32088464cad270f67a91047da079f403d))
* 【server】请求错误返回 ([ab0b7eb](https://github.com/qianyin925/blog_service/commit/ab0b7ebf046aa5041c7ba7af14c63d5148a5dfe0))
* 【server】请求错误返回 ([cf2ce90](https://github.com/qianyin925/blog_service/commit/cf2ce90d23c215d759a4dd3e0591d3f95c4fd3f1))
* 【server】跨域配置、区分开发环境和生产环境 ([aa7d5b0](https://github.com/qianyin925/blog_service/commit/aa7d5b0353f65a65b3e9d4f3d0df501a86d3d7f6))
* 【server】跨域配置中支持正则 ([3e75ae3](https://github.com/qianyin925/blog_service/commit/3e75ae3c4e7ff188a9848f0664e179308d3339b2))
* 【server】静态资源nginx 配置修改 ([3be73d5](https://github.com/qianyin925/blog_service/commit/3be73d5d21cd8631a9bcb83f48cd25345d2a1995))
* 【server】静态资源文件恢复脚本 ([642d9e5](https://github.com/qianyin925/blog_service/commit/642d9e58bfabab4b631c536cd47c8851f6b57c11))
* 【server】项目部署流程整理 ([52a7563](https://github.com/qianyin925/blog_service/commit/52a756348014c7ed86e90dbe361201adbc9e6ef3))
* docker-compose 配置修改 ([1caa358](https://github.com/qianyin925/blog_service/commit/1caa358b5e0111761f52a2749a6203bad12f6c02))
* 版本更新临时脚本创建 ([eee5e08](https://github.com/qianyin925/blog_service/commit/eee5e08158e37c1bf23120180402a8993d29b843))


### Bug Fixes

* 【client】【上传】无法上传 GIF 图片 ([a7b74a6](https://github.com/qianyin925/blog_service/commit/a7b74a6578fca638aa296e645ea2d89f1f521cf1))

## 1.1.0 (2020-01-01)


### Bug Fixes

* 【server】添加修改数据时添加用户信息 ([3058534](https://github.com/qianyin925/blog_service/commit/3058534))
* bUG 修复: 删除数据无法再次创建同名数据 ([d7ddc3d](https://github.com/qianyin925/blog_service/commit/d7ddc3d))
* graphql resolve 字段错误 ([ac64e5e](https://github.com/qianyin925/blog_service/commit/ac64e5e))


### Features

* 【client + service】配置文件分离 ([b83415d](https://github.com/qianyin925/blog_service/commit/b83415d))
* 【client】【权限控制】前端应用的展示根据用户权限来定义 ([704efad](https://github.com/qianyin925/blog_service/commit/704efad))
* 【client】【相册】通用头像添加 ([92b6c3a](https://github.com/qianyin925/blog_service/commit/92b6c3a))
* 【client】【编辑器】文章发布功能实现 ([049cdd4](https://github.com/qianyin925/blog_service/commit/049cdd4))
* 【client】【阅读器】当不存在封面时采用默认封面 ([46ee3fc](https://github.com/qianyin925/blog_service/commit/46ee3fc))
* 【client】codemirror 支持图片的黏贴上传 ([e4b7258](https://github.com/qianyin925/blog_service/commit/e4b7258))
* 【client】tag 初始数据脚本添加 ([1bdcbe4](https://github.com/qianyin925/blog_service/commit/1bdcbe4))
* 【client】删除文章时删除对应文章内所有图片 ([cbd3226](https://github.com/qianyin925/blog_service/commit/cbd3226))
* 【client】版本发布测试整理 ([1da3ceb](https://github.com/qianyin925/blog_service/commit/1da3ceb))
* 【client】相册、桌面背景上传、删除、查询 api 实现 ([83597da](https://github.com/qianyin925/blog_service/commit/83597da))
* 【serve】【文章】状态值添加修改 ([83f4b73](https://github.com/qianyin925/blog_service/commit/83f4b73))
* 【server】【Article】原型添加 views 字段, 用于统计热度(阅读量) ([f4c23a4](https://github.com/qianyin925/blog_service/commit/f4c23a4))
* 【server】【BUG】通用查询无法排序问题 ([9cc9ed9](https://github.com/qianyin925/blog_service/commit/9cc9ed9))
* 【server】【docker】时区设置 ([7ec54f3](https://github.com/qianyin925/blog_service/commit/7ec54f3))
* 【server】【脚本】根据数据库 photos 删除七牛云无效图片 ([d8ccb41](https://github.com/qianyin925/blog_service/commit/d8ccb41))
* 【server】【阅读】TOP 10 实现 ([edf4e65](https://github.com/qianyin925/blog_service/commit/edf4e65))
* 【server】docker 重新部署更新脚本 ([a439c01](https://github.com/qianyin925/blog_service/commit/a439c01))
* 【server】node 对图片进行压缩 ([d9142f5](https://github.com/qianyin925/blog_service/commit/d9142f5))
* 【server】前端删除 note 应用, 对应后端初始化数据脚本也要做出相应的调整 ([659a8d9](https://github.com/qianyin925/blog_service/commit/659a8d9))
* 【server】定时任务， 系统 ([c12622e](https://github.com/qianyin925/blog_service/commit/c12622e))
* 【server】常量文件命名错误调整 ([0717a9c](https://github.com/qianyin925/blog_service/commit/0717a9c))
* 【service】graphql 字段调整 ([4160c42](https://github.com/qianyin925/blog_service/commit/4160c42))
* 【service】mongoose 模型修改(设置唯一值) ([348d7b3](https://github.com/qianyin925/blog_service/commit/348d7b3))
* 【service】note 服务端代码实现 ([1094bba](https://github.com/qianyin925/blog_service/commit/1094bba))
* 【service】解析 markdown 并创建 note ([15fd6ba](https://github.com/qianyin925/blog_service/commit/15fd6ba))
* 【service】解析 markdown 并创建 note ([aea5629](https://github.com/qianyin925/blog_service/commit/aea5629))
* 【service】项目脚本整理、gulp 是否必须 ([7e01153](https://github.com/qianyin925/blog_service/commit/7e01153))
* 【网盘实现】【serve】后端 api 实现 ([837f782](https://github.com/qianyin925/blog_service/commit/837f782))
* docker-node npm 镜像源修改 ([26d8351](https://github.com/qianyin925/blog_service/commit/26d8351))
* token 后端实现 ([8f47781](https://github.com/qianyin925/blog_service/commit/8f47781))
* token 联调 ([3fcddc4](https://github.com/qianyin925/blog_service/commit/3fcddc4))
* webHooks 脚本修改 ([8e7dfde](https://github.com/qianyin925/blog_service/commit/8e7dfde))
* 修改  ecosystem.config.js ([1198149](https://github.com/qianyin925/blog_service/commit/1198149))
* 修改部署文档部分 ([b2059bf](https://github.com/qianyin925/blog_service/commit/b2059bf))
* 初始化数据前先删除数据库, 避免无效数据 ([6ba0356](https://github.com/qianyin925/blog_service/commit/6ba0356))
* 删除 graphql implements ([9b77617](https://github.com/qianyin925/blog_service/commit/9b77617))
* 文件删除接口实现 ([f077da0](https://github.com/qianyin925/blog_service/commit/f077da0))
* 添加 docker compose ([cceeedd](https://github.com/qianyin925/blog_service/commit/cceeedd))
* 用户登录功能实现 ([c37e0d5](https://github.com/qianyin925/blog_service/commit/c37e0d5))
* 项目部署测试 ([b33572d](https://github.com/qianyin925/blog_service/commit/b33572d))
